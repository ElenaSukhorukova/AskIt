<section>
  <% provide :page_title, i18n_model_name(Question.new, 2) %>
  <% currently_at i18n_model_name(Question.new, 2) %>

  <h1 class='md-4'><%= i18n_model_name(Question.new, 2) %></h2>

  <%= link_to t('link.new', model: i18n_model_name(Question.new).downcase), 
    new_user_question_path(current_user), class: 'btn btn-info me-2' if user_signed_in? %>

  <div class='my-4'>
    <%== pagination @pagy %>
  </div>

  <% if @questions.try(:any?) %>
    <% @questions.each do |question| %>
      <article class='card mt-2'>
        <div class='card-body'>
          <h2><%= question.title %></h2>

          <section class='card-text'>
            <small>
              <time datetime="<%= question.formatted_created_at %>">
                <%= question.formatted_created_at %>
              </time>
              <%= i18n_model_name(Answer.new, 2) %>:
              <%= question.answers.count %>
              <%= attribute_model(question, :user) %>
              <strong><%= question.user.name_or_email %></strong>
            </small>

            <p class='my-2'>
              <%= truncate strip_tags(question.body), length: 100, omission: '... (continued)' %>
            </p>
          </section>
            <div class="btn-group" role="group">
              <%= link_to t('link.show'), question_path(question), class: 'btn btn-primary me-2' %>
            </div>
        </div>
      </article>
    <% end %>
  <% end %>
</section>
<div class='my-4'>
  <%== pagination @pagy %>
</div>